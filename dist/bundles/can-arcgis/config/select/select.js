define("can-arcgis@0.2.2#components/select-widget/template.stache!steal-stache@3.1.3#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@3.2.7#can-view-import","can-stache-bindings@3.11.9#can-stache-bindings"],function(e,t,a){var r=t("components/select-widget/template.stache",[{tokenType:"start",args:["div",!1,1]},{tokenType:"attrStart",args:["class",1]},{tokenType:"attrValue",args:["workorder-picker container",1]},{tokenType:"attrEnd",args:["class",1]},{tokenType:"attrStart",args:["style",1]},{tokenType:"attrValue",args:["background:#fff;width:300px;padding:10px;",1]},{tokenType:"attrEnd",args:["style",1]},{tokenType:"end",args:["div",!1,2]},{tokenType:"chars",args:["\r\n    ",2]},{tokenType:"start",args:["p",!1,3]},{tokenType:"attrStart",args:["class",3]},{tokenType:"attrValue",args:["text-bold",3]},{tokenType:"attrEnd",args:["class",3]},{tokenType:"end",args:["p",!1,3]},{tokenType:"special",args:["title",3]},{tokenType:"close",args:["p",3]},{tokenType:"chars",args:["\r\n    ",3]},{tokenType:"special",args:["#if message",4]},{tokenType:"chars",args:["\r\n        ",4]},{tokenType:"start",args:["toast-item",!0,5]},{tokenType:"attrStart",args:["heading:from",5]},{tokenType:"attrValue",args:["'Oops'",5]},{tokenType:"attrEnd",args:["heading:from",5]},{tokenType:"attrStart",args:["body:from",5]},{tokenType:"attrValue",args:["message",5]},{tokenType:"attrEnd",args:["body:from",5]},{tokenType:"attrStart",args:["severity:from",5]},{tokenType:"attrValue",args:["'warning'",5]},{tokenType:"attrEnd",args:["severity:from",5]},{tokenType:"attrStart",args:["dismissable:from",5]},{tokenType:"attrValue",args:["false",5]},{tokenType:"attrEnd",args:["dismissable:from",5]},{tokenType:"end",args:["toast-item",!0,5]},{tokenType:"chars",args:["\r\n    ",5]},{tokenType:"special",args:["/if",6]},{tokenType:"chars",args:["\r\n    ",6]},{tokenType:"special",args:["#if(selectGraphicsLayer.graphics.items.length)",7]},{tokenType:"chars",args:["\r\n        ",7]},{tokenType:"start",args:["p",!1,8]},{tokenType:"end",args:["p",!1,8]},{tokenType:"chars",args:["You've selected ",8]},{tokenType:"special",args:["selectGraphicsLayer.graphics.items.length",8]},{tokenType:"chars",args:[" features.\r\n            ",8]},{tokenType:"start",args:["button",!1,9]},{tokenType:"attrStart",args:["class",9]},{tokenType:"attrValue",args:["btn",9]},{tokenType:"attrEnd",args:["class",9]},{tokenType:"attrStart",args:["type",9]},{tokenType:"attrValue",args:["button",9]},{tokenType:"attrEnd",args:["type",9]},{tokenType:"attrStart",args:["on:el:click",9]},{tokenType:"attrValue",args:["clearSelected()",9]},{tokenType:"attrEnd",args:["on:el:click",9]},{tokenType:"end",args:["button",!1,9]},{tokenType:"chars",args:["Cancel",9]},{tokenType:"close",args:["button",9]},{tokenType:"chars",args:["\r\n        ",9]},{tokenType:"close",args:["p",10]},{tokenType:"chars",args:["\r\n        ",10]},{tokenType:"start",args:["ul",!1,11]},{tokenType:"attrStart",args:["class",11]},{tokenType:"attrValue",args:["menu",11]},{tokenType:"attrEnd",args:["class",11]},{tokenType:"end",args:["ul",!1,11]},{tokenType:"chars",args:["\r\n            ",11]},{tokenType:"comment",args:[" menu header text ",12]},{tokenType:"chars",args:["\r\n            ",12]},{tokenType:"start",args:["li",!0,13]},{tokenType:"attrStart",args:["class",13]},{tokenType:"attrValue",args:["divider",13]},{tokenType:"attrEnd",args:["class",13]},{tokenType:"attrStart",args:["data-content",13]},{tokenType:"attrValue",args:["Actions",13]},{tokenType:"attrEnd",args:["data-content",13]},{tokenType:"end",args:["li",!0,13]},{tokenType:"chars",args:["\r\n            ",13]},{tokenType:"comment",args:[" menu item ",14]},{tokenType:"chars",args:["\r\n            ",14]},{tokenType:"special",args:["#each(actions)",15]},{tokenType:"chars",args:["\r\n                ",15]},{tokenType:"start",args:["li",!1,16]},{tokenType:"attrStart",args:["class",16]},{tokenType:"attrValue",args:["menu-item",16]},{tokenType:"attrEnd",args:["class",16]},{tokenType:"end",args:["li",!1,16]},{tokenType:"chars",args:["\r\n                    ",16]},{tokenType:"start",args:["a",!1,17]},{tokenType:"attrStart",args:["href",17]},{tokenType:"attrValue",args:["#",17]},{tokenType:"attrEnd",args:["href",17]},{tokenType:"attrStart",args:["on:el:click",17]},{tokenType:"attrValue",args:["onActionClick(.)",17]},{tokenType:"attrEnd",args:["on:el:click",17]},{tokenType:"end",args:["a",!1,17]},{tokenType:"chars",args:["\r\n                        ",17]},{tokenType:"start",args:["i",!1,18]},{tokenType:"attrStart",args:["class",18]},{tokenType:"special",args:["iconClass",18]},{tokenType:"attrEnd",args:["class",18]},{tokenType:"end",args:["i",!1,18]},{tokenType:"close",args:["i",18]},{tokenType:"chars",args:[" ",18]},{tokenType:"special",args:["label",18]},{tokenType:"chars",args:["\r\n                    ",18]},{tokenType:"close",args:["a",19]},{tokenType:"chars",args:["\r\n                ",19]},{tokenType:"close",args:["li",20]},{tokenType:"chars",args:["\r\n            ",20]},{tokenType:"special",args:["/each",21]},{tokenType:"chars",args:["\r\n        ",21]},{tokenType:"close",args:["ul",22]},{tokenType:"chars",args:["\r\n    ",22]},{tokenType:"special",args:["else",23]},{tokenType:"chars",args:["\r\n\r\n        ",23]},{tokenType:"start",args:["select-field",!0,25]},{tokenType:"attrStart",args:["properties:from",25]},{tokenType:"attrValue",args:["layerProperties",25]},{tokenType:"attrEnd",args:["properties:from",25]},{tokenType:"attrStart",args:["value:bind",25]},{tokenType:"attrValue",args:["layer",25]},{tokenType:"attrEnd",args:["value:bind",25]},{tokenType:"end",args:["select-field",!0,25]},{tokenType:"chars",args:["\r\n\r\n        ",25]},{tokenType:"special",args:["#if(layer)",27]},{tokenType:"chars",args:["\r\n\r\n            ",27]},{tokenType:"start",args:["select-field",!0,29]},{tokenType:"attrStart",args:["properties:from",29]},{tokenType:"attrValue",args:["queryProperties",29]},{tokenType:"attrEnd",args:["properties:from",29]},{tokenType:"attrStart",args:["value:bind",29]},{tokenType:"attrValue",args:["query",29]},{tokenType:"attrEnd",args:["value:bind",29]},{tokenType:"end",args:["select-field",!0,31]},{tokenType:"chars",args:[" \r\n\r\n            ",31]},{tokenType:"special",args:["#if(query)",33]},{tokenType:"chars",args:["\r\n                ",33]},{tokenType:"special",args:["#eq(query, 'spatial')",34]},{tokenType:"chars",args:["\r\n                    ",34]},{tokenType:"start",args:["draw-widget",!0,35]},{tokenType:"attrStart",args:["view:from",35]},{tokenType:"attrValue",args:["view",35]},{tokenType:"attrEnd",args:["view:from",35]},{tokenType:"attrStart",args:["graphics:u:layer:bind",35]},{tokenType:"attrValue",args:["drawGraphicsLayer",35]},{tokenType:"attrEnd",args:["graphics:u:layer:bind",35]},{tokenType:"end",args:["draw-widget",!0,37]},{tokenType:"chars",args:["\r\n                    \r\n                    ",37]},{tokenType:"special",args:["#if(drawGraphicsLayer.graphics.items.length)",39]},{tokenType:"chars",args:["\r\n                        ",39]},{tokenType:"start",args:["button",!1,40]},{tokenType:"attrStart",args:["class",40]},{tokenType:"attrValue",args:["btn btn-primary",40]},{tokenType:"attrEnd",args:["class",40]},{tokenType:"attrStart",args:["on:el:click",40]},{tokenType:"attrValue",args:["searchGraphics",40]},{tokenType:"attrEnd",args:["on:el:click",40]},{tokenType:"end",args:["button",!1,40]},{tokenType:"chars",args:["\r\n                            ",40]},{tokenType:"start",args:["i",!1,41]},{tokenType:"attrStart",args:["class",41]},{tokenType:"attrValue",args:["esri-icon-search",41]},{tokenType:"attrEnd",args:["class",41]},{tokenType:"end",args:["i",!1,41]},{tokenType:"close",args:["i",41]},{tokenType:"chars",args:[" Search",41]},{tokenType:"close",args:["button",41]},{tokenType:"chars",args:[" \r\n                    ",41]},{tokenType:"special",args:["/if",42]},{tokenType:"chars",args:["\r\n                ",42]},{tokenType:"special",args:["else",43]},{tokenType:"chars",args:["\r\n                    ",43]},{tokenType:"start",args:["sp-form",!0,44]},{tokenType:"attrStart",args:["is:u:saving:bind",44]},{tokenType:"attrValue",args:["formIsSaving",44]},{tokenType:"attrEnd",args:["is:u:saving:bind",44]},{tokenType:"attrStart",args:["fields:from",44]},{tokenType:"attrValue",args:["selectedQuery.fields",44]},{tokenType:"attrEnd",args:["fields:from",44]},{tokenType:"attrStart",args:["object:from",44]},{tokenType:"attrValue",args:["queryFormObject",44]},{tokenType:"attrEnd",args:["object:from",44]},{tokenType:"attrStart",args:["on:submit",44]},{tokenType:"attrValue",args:["searchFormSubmit(queryFormObject)",44]},{tokenType:"attrEnd",args:["on:submit",44]},{tokenType:"attrStart",args:["on:cancel",44]},{tokenType:"attrValue",args:["reset",44]},{tokenType:"attrEnd",args:["on:cancel",44]},{tokenType:"end",args:["sp-form",!0,49]},{tokenType:"chars",args:["\r\n                ",49]},{tokenType:"special",args:["/eq",50]},{tokenType:"chars",args:["\r\n            ",50]},{tokenType:"special",args:["/if",51]},{tokenType:"chars",args:["\r\n        ",51]},{tokenType:"special",args:["/if",52]},{tokenType:"chars",args:["\r\n    ",52]},{tokenType:"special",args:["/if",53]},{tokenType:"chars",args:["\r\n",53]},{tokenType:"close",args:["div",54]},{tokenType:"done",args:[54]}]);return function(t,s,n){var o={module:e};return s instanceof a.Options||(s=new a.Options(s||{})),r(t,s.add(o),n)}}),define("can-arcgis@0.2.2#util/assignGraphics",["exports","esri-loader"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return new Promise(function(r){(0,t.loadModules)(["esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol"]).then(function(t){var s=a(t,3),n=s[0],o=s[1],i=s[2];e.forEach(function(e){var t=void 0;switch(e.geometry.type){case"polyline":t=new o({color:"#de4343",width:"5px",style:"solid"});break;case"polygon":t=new i({color:"#de4343",style:"solid",outline:{color:"#000",width:1}});break;case"point":default:t=new n({color:"red",outline:{color:"#000",width:"0.5px"}})}e.symbol=t}),r(e)})})};var a=function(){function e(e,t){var a=[],r=!0,s=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){s=!0,n=e}finally{try{!r&&i.return&&i.return()}finally{if(s)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()}),define("can-arcgis@0.2.2#components/select-widget/ViewModel",["exports","can-define/map/map","can-define/list/list","can-util/js/string/string","esri-loader","can-arcgis/util/assignGraphics","can-arcgis/util/decorateAccessor","can-reflect"],function(e,t,a,r,s,n,o,i){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var p=l(t),c=l(a),y=l(r),g=l(n),u=l(o),d=l(i),k=function(){function e(e,t){var a=[],r=!0,s=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(e){s=!0,n=e}finally{try{!r&&i.return&&i.return()}finally{if(s)throw n}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=p.default.extend("SelectWidget",{seal:!1},{message:"string",view:{set:function(e){var t=this;return this.view&&this.view.map.remove(this.selectGraphicsLayer),e&&(this.selectGraphicsLayer||(0,s.loadModules)(["esri/layers/GraphicsLayer"]).then(function(a){var r=k(a,1)[0];t.selectGraphicsLayer=(0,u.default)(new r({listMode:"hide"})),e.map.add(t.selectGraphicsLayer)})),e}},title:{type:"string",value:"Select Features"},layerOptions:{get:function(){var e=this;return d.default.getOwnEnumerableKeys(this.layers).map(function(t){return{label:e.layers[t].label||t,value:t}})}},layerAlias:{value:"Layer to select"},layerProperties:{get:function(){return{options:this.layerOptions,alias:this.layerAlias}}},layers:p.default,layer:{type:"string",set:function(e){if(!e)return e;if(localStorage.selectedLayer=e,!this.layers[e])return e;var t=this.layers[e],a=this.view.map.findLayerById(t.supportId);return a&&a.sublayers.forEach(function(e){e.visible=t.supportIds.indexOf(e.id)>-1}),e}},selectedLayer:{get:function(){return this.layers[this.layer]||"custom"}},actions:c.default,query:{type:"string",value:"spatial"},queries:{get:function(){return(this.selectedLayer.queries||[]).concat([{value:"spatial",label:"From the map"}])}},queryProperties:{get:function(){return{options:this.queries,alias:"Select features by"}}},selectedQuery:{get:function(){var e=this,t=this.queries.filter(function(t){return t.value===e.query});return t.length?t[0]:{}}},queryFormObject:{Value:p.default},formIsSaving:"boolean",drawGraphicsLayer:{},selectGraphicsLayer:{},searchFormSubmit:function(e){var t=y.default.sub(this.selectedQuery.queryTemplate||"1=1",e);this.selectFeatures({where:t})},searchGraphics:function(){var e=this;if(this.activeButton=null,1===this.drawGraphicsLayer.graphics.items.length)this.selectFeatures({geometry:this.drawGraphicsLayer.graphics.getItemAt(0).geometry}),this.clearDrawing();else if(this.drawGraphicsLayer.graphics.items.length>1){var t=this.drawGraphicsLayer.graphics.map(function(e){return e.geometry}).toArray();(0,s.loadModules)(["esri/geometry/geometryEngine"]).then(function(a){var r=k(a,1)[0].union(t);e.clearDrawing(),e.selectFeatures({geometry:r})})}},clearDrawing:function(){this.drawGraphicsLayer.graphics.removeAll()},clearSelected:function(){this.selectGraphicsLayer.graphics.removeAll(),this.drawGraphicsLayer.graphics.removeAll(),this.formIsSaving=!1},selectFeatures:function(e){var t=this;this.message=null,(0,s.loadModules)(["esri/tasks/QueryTask","esri/tasks/support/Query"]).then(function(a){var r=k(a,2),s=r[0],n=r[1],o=Object.assign(new n,{outFields:["*"],returnGeometry:!0,outSpatialReference:t.view.spatialReference},e);new s({url:t.selectedLayer.url+"/query"}).execute(o).then(function(e){e.features.length?t.highlightFeatures(e.features):t.message="No features were selected",t.formIsSaving=!1}).otherwise(function(e){console.log(e)})})},highlightFeatures:function(e){var t=this;e.length&&(0,g.default)(e).then(function(e){t.drawGraphicsLayer.removeAll(),t.selectGraphicsLayer.addMany(e),t.view.goTo(e)})},onActionClick:function(e){return e.onClick(this.selectGraphicsLayer.graphics,this),!1}})}),define("spectre-canjs@0.32.3#sp-toast/sp-toast.stache!steal-stache@3.1.3#steal-stache",["module","can-stache","can-stache/src/mustache_core","can-view-import@3.2.7#can-view-import","can-stache-bindings@3.11.9#can-stache-bindings"],function(e,t,a){var r=t("sp-toast/sp-toast.stache",[{tokenType:"chars",args:["\r\n",1]},{tokenType:"start",args:["div",!1,2]},{tokenType:"attrStart",args:["class",2]},{tokenType:"attrValue",args:["toast toast-",2]},{tokenType:"special",args:["severity",2]},{tokenType:"special",args:["^visible",2]},{tokenType:"attrValue",args:[" animated fadeOut",2]},{tokenType:"special",args:["/visible",2]},{tokenType:"attrEnd",args:["class",2]},{tokenType:"end",args:["div",!1,2]},{tokenType:"chars",args:["\r\n  ",2]},{tokenType:"special",args:["#if useContentTag",3]},{tokenType:"chars",args:["\r\n    ",3]},{tokenType:"start",args:["content",!0,4]},{tokenType:"end",args:["content",!0,4]},{tokenType:"chars",args:["\r\n  ",4]},{tokenType:"special",args:["else",5]},{tokenType:"chars",args:["\r\n    ",5]},{tokenType:"special",args:["#if dismissable",6]},{tokenType:"start",args:["button",!1,6]},{tokenType:"attrStart",args:["class",6]},{tokenType:"attrValue",args:["btn btn-clear float-right",6]},{tokenType:"attrEnd",args:["class",6]},{tokenType:"attrStart",args:["on:el:click",6]},{tokenType:"attrValue",args:["hide",6]},{tokenType:"attrEnd",args:["on:el:click",6]},{tokenType:"end",args:["button",!1,6]},{tokenType:"close",args:["button",6]},{tokenType:"special",args:["/if",6]},{tokenType:"chars",args:["\r\n    ",6]},{tokenType:"special",args:["#if iconClass",7]},{tokenType:"start",args:["i",!1,7]},{tokenType:"attrStart",args:["class",7]},{tokenType:"special",args:["iconClass",7]},{tokenType:"attrEnd",args:["class",7]},{tokenType:"end",args:["i",!1,7]},{tokenType:"close",args:["i",7]},{tokenType:"special",args:["/if",7]},{tokenType:"chars",args:["\r\n    ",7]},{tokenType:"special",args:["#if heading",8]},{tokenType:"start",args:["span",!1,8]},{tokenType:"attrStart",args:["class",8]},{tokenType:"attrValue",args:["text-bold",8]},{tokenType:"attrEnd",args:["class",8]},{tokenType:"end",args:["span",!1,8]},{tokenType:"special",args:["heading",8]},{tokenType:"close",args:["span",8]},{tokenType:"special",args:["/if",8]},{tokenType:"chars",args:["\r\n    ",8]},{tokenType:"special",args:["body",9]},{tokenType:"chars",args:["\r\n  ",9]},{tokenType:"special",args:["/if",10]},{tokenType:"chars",args:["\r\n",10]},{tokenType:"close",args:["div",11]},{tokenType:"chars",args:["\r\n",11]},{tokenType:"done",args:[12]}]);return function(t,s,n){var o={module:e};return s instanceof a.Options||(s=new a.Options(s||{})),r(t,s.add(o),n)}}),define("spectre-canjs@0.32.3#sp-toast/ViewModel",["exports","can-define/map/map","can-event","object-assign"],function(e,t,a,r){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var n=s(t),o=s(a),i=s(r),l=n.default.extend("ToastItem",{fade:{type:"boolean",value:!0},autoHide:{type:"number",value:5e3},useContentTag:{type:"boolean",value:!1},severity:{value:"info",type:function(e){var t=["primary","info","success","warning","danger"];return t.indexOf(e)>-1?e:t[0]}},dismissable:{value:!0,type:"boolean"},iconClass:{type:"string",value:"icon icon-error_outline"},visible:{value:!0,type:"boolean"},body:{value:"",type:"string"},heading:{value:"",type:"string"},fadeTime:{type:"number",value:1e3},hide:function(){var e=this;this.visible&&(this.visible=!1,this.fade?setTimeout(function(){e.dispatch("hide",[e])},this.fadeTime):this.dispatch("hide",[this]))}});(0,i.default)(l,o.default),e.default=l}),define("spectre-canjs@0.32.3#sp-toast/sp-toast",["exports","./sp-toast.stache!","can-component","./ViewModel","./sp-toast.less!"],function(e,t,a,r){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var n=s(t),o=s(a),i=s(r);o.default.extend({tag:"sp-toast",view:n.default,ViewModel:i.default,events:{inserted:function(){var e=this.viewModel;e.autoHide&&setTimeout(function(){e.hide()},e.autoHide)}}}),e.default=i.default}),define("can-arcgis@0.2.2#components/select-widget/select-widget",["exports","can-component","./template.stache","./ViewModel","../draw-widget/draw-widget","spectre-canjs/sp-form/sp-form","spectre-canjs/sp-form/fields/sp-select-field/sp-select-field","spectre-canjs/sp-toast/sp-toast"],function(e,t,a,r){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var n=s(t),o=s(a),i=s(r);e.default=n.default.extend({tag:"select-widget",ViewModel:i.default,view:o.default})}),define("can-arcgis@0.2.2#config/select/select",["exports","can-stache","sweetalert2","../../components/select-widget/select-widget","spectre-canjs/sp-form/fields/sp-text-field/sp-text-field","sweetalert2/dist/sweetalert2.css"],function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var s=r(t),n=r(a),o="https://services1.arcgis.com/6bXbLtkf4y11TosO/arcgis/rest/services/Restaurants/FeatureServer/0";e.default={debug:!0,viewOptions:{center:[-93.28697204589844,44.294471740722656],zoom:12},mapOptions:{basemap:"gray",layers:[{type:"feature",options:{url:o,id:"resteraunts",outFields:["*"]}}]},widgets:[{parent:"expand",iconClass:"esri-icon-search",type:"renderer",renderer:(0,s.default)('<select-widget \n            layers:from="layers"\n            view:from="view"\n            actions:from="actions" />'),options:{layers:{Resteraunts:{url:o,queries:[{value:"name",label:"Establishment Name",fields:["name"],queryTemplate:"EstablishmentName LIKE '%{name}%'"},{value:"riskType",label:"Risk Type",queryTemplate:"RiskType = {risk}",fields:[{name:"risk",alias:"Risk Type",fieldType:"select",options:[{value:1,label:"Inspected one time per year"},{value:2,label:"Inspected two times per year"},{value:3,label:"Inspected three times per year"}]}]}]}},actions:[{label:"Log Selected Features",iconClass:"esri-icon-announcement",onClick:function(e){(0,n.default)({title:"Features",html:e.map(function(e){return"<li>"+e.attributes.EstablishmentName+"</li>"}).join("")})}}]}}]}});
//# sourceMappingURL=select.js.map